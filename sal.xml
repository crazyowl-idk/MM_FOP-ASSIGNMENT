//GAME STATE 
public final int gameOverState = 6;
public int gameState = 1;
public final int playState = 1;
public final int pauseState = 2;


// check life (put under attack life)
    if (life <= 0)
    gp.gameState = gp.gameOverState;

// GAME OVER STATE (under pause,character state)
    if (gp.gameState == gp.gameOverState){
        drawGameOverScreen();
    }

//game over screen darker
    public void drawGameOverScreen(){ 
        g2.setColor(new Color (0,0,0,150));
        g2.fillRect(0,0,gp.screenWidth, gp.screenHeight);

        int x;
        int y;
        String text;
        g2.setFont(g2.getFont().deriveFont(Font,BOLD,110f));

        text = "Game Over"; // show game over word
        g2.setColor(Color.black);
        x = getXforCenteredText(text);
        y= gp.tileSize*4;
        g2.drawStrinf(text, x, y);

        //Main 
        g2.setColor(Color.white);
        g2.drawString(text, x-4, y-4);

        //Retry
        g2.setFont(g2.getFont().deriveFont(50f));
        text = "Retry";
        x= getXforCenteredText(text);
        y += gp.tileSize*4;
        g2.drawString(text,x,y);
        if(commandNum == 0) {
            g2.drawString(">", x-40, y);
        }
        //back to title screen 
        text = "Quit";
          x= getXforCenteredText(text);
        y += 55;
        g2.drawString(text, x, y);
          if(commandNum == 1  ) {
            g2.drawString(">", x-40, y);
        }
    }

public void setupGame(){
    a.setter.setObject();
    playMusic(0);
    stopMusic();
    gameState = playState;
}

public void update (){
    if (gameState == playState){
        player.update();
    }
    if (gameState == pauseState){
     // nothing
    }
}
        GamePanel gp;
        Graphics2D g2;
        public KeyHandler(GamePanel gp){
            this.gp = gp;
        }

        if (code == KeyEvent.VK_P){
            if (gp.gameState == gp.playState){
                gp.gameState = gp.playState;
            }
        }

        public void draw (Graphics2D g2){
            this.g2 = g2;

            g2.setFont(arial_40);
            g2.setColor(Color.white);

            if(gp.gameState == gp.playState){
                // do playstate stuff ltr 
            }
            if (gp.gameState == gp.pauseState){

            }
        }

    public void drawPauseScreen(){

        String text = "PAUSED"
        int x = getXforCenteredText(text);
        int y = gp.screenHeight/2;

        g2.drawString(text, x, y);
    }
    public int getXforCenteredTExt(String text){

        int length = (int)g2.getFontMetrics().getStringBounds(text,g2).getWidth();
        x = gp.screenWidth/2 - length/2;
        return x;
        }
  

//resetting the status when player dies  (retry/quit)
public void resetGame(boolean restart){
    player.setDefaultPositions();
    player.restoreStatus();
    aSetter.setNPC();
    aSetter.setMonster();

    if(restart==true){
        player.setDeafultValues();
        player.setItems();
        aSetter.setObject();
        aSetter.setInteractiveTile();
        eManager.lighting.resetDay();
    }
public void gameOverState(int code){
    if(code==KeyEvent.VK_W){
        gp.ui.coomandNum--;
        if(gp.ui.commandNum<0){
            gp.ui.commandNum=1;
        }
        gp.playSE(9);
    }
    if(code == KeyEvent.VK_S)
        gp.ui.commandNum++;
        if(gp.ui.commandNum>1){
            gp.ui.commandNum=0;
        }
        gp.playSE(9);
}
    if (code == KeyEvent.VK_Enter){
        if (gp.ui.commandNum == 0) {
            gp.gameState = gp.playState;
            gp.resetGame(false);
            gp.playMusic(0);
        }
        else if (gp.ui.commandNum == 1){
            gp.gameState= gp.titleState;
            gp.resetGame(true);
            gp.saveLoad.load();
        }
        }
    }

    //keep levell (place under player status)
    //currentLight = null;
    public void setDeafultPositions(){
        worldX = gp.tileSize*23;
        worldY = gp.tileSzie * 21;
        direction = "down";
    }

    public void restoreStatus(){
        Life = maxLife;
        mana = maxMana;
        invincible = false;
        attacking = false;
        guarding = false;
        knockBack = false;
        lightUpdated = true;
         
    }

    public void resetDay(){
        dayState = day;
        filterAlpha = Of;
    }
